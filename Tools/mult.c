#include <stdlib.h>
#include <stdio.h>

unsigned short mult(unsigned short r12, unsigned short r13)
{
    unsigned short c1, c2, r14 = r12;

    r12 = 0;

    c1 = r13 & 1;

    r13 >>= 1;
    r13 += c1;

    c1 = 1;
multlp:
    c2 = r14 & 1;
    r14 = (r14 >> 1) | (c1 ? 0x8000 : 0);

    if (!c2) goto multzb;
    if (r14 == 0) goto multend;;

    r12 >>= 1;
    r12 += r13;
    c1 = 0;
    goto multlp;

multzb:
    r12 >>= 1;
    c1 = 0;
    goto multlp;

multend:
    return r12;
}

#define DIMTAB_BITS 5

const unsigned short dimtab[(1 << DIMTAB_BITS) + 1] = {
    56707, /* 0.124568: 24.247302 */
    55420, /* 0.151925: 27.782507 */
    54194, /* 0.179282: 31.150470 */
    53013, /* 0.206640: 34.392322 */
    51868, /* 0.233997: 37.537146 */
    50751, /* 0.261354: 40.606771 */
    49654, /* 0.288711: 43.618355 */
    48574, /* 0.316069: 46.585897 */
    47505, /* 0.343426: 49.521292 */
    46444, /* 0.370783: 52.434933 */
    45388, /* 0.398140: 55.336210 */
    44333, /* 0.425498: 58.233863 */
    43276, /* 0.452855: 61.136266 */
    42215, /* 0.480212: 64.051672 */
    41146, /* 0.507569: 66.988419 */
    40065, /* 0.534927: 69.955189 */
    38971, /* 0.562284: 72.961213 */
    37859, /* 0.589641: 76.016556 */
    36724, /* 0.616998: 79.132443 */
    35563, /* 0.644356: 82.321685 */
    34370, /* 0.671713: 85.599198 */
    33138, /* 0.699070: 88.982812 */
    31859, /* 0.726427: 92.494287 */
    30524, /* 0.753785: 96.160909 */
    29120, /* 0.781142: 100.017907 */
    27629, /* 0.808499: 104.112323 */
    26028, /* 0.835856: 108.509643 */
    24282, /* 0.863214: 113.305916 */
    22336, /* 0.890571: 118.652257 */
    20093, /* 0.917928: 124.811447 */
    17360, /* 0.945285: 132.319079 */
    13597, /* 0.972643: 142.654819 */
    183, /* 1.000000: 179.496261 */
};

int main(int argc, char **argv)
{
    unsigned short curdimpower = 0;

    do {
        unsigned short dimidx = curdimpower >> (16 - DIMTAB_BITS);
        printf("%u, %u\n", curdimpower,
                           (unsigned short)(dimtab[dimidx] -
                           mult(dimtab[dimidx]-dimtab[dimidx+1],
                                curdimpower << DIMTAB_BITS)));
        curdimpower+=4;
    } while (curdimpower != 0);

    return 0;
}